{% extends 'base.html' %}

{% load static %}
{% block content %}


<!-- main section -->
<section>
    <h4>all products</h4>
    <br>
    <button class="wtadduser" data-toggle="modal" data-target="#wtaddemployee">Add New Product</button>

                        {% for pro in allproducts %}
                            {{pro.name}}
                            {{pro.price}}
                        {% endfor %}

</section>
<!-- main section close-->

<!-- add new product  -->
<div class="modal fade" id="wtaddemployee" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Add New Product</h5>
            </div>

            <div class="modal-body">


    <form method="post" enctype="multipart/form-data"  id="personForm" data-cities-url="{% url 'ajax_load_cities' %}" novalidate>
    {% csrf_token %}
      {{ form.as_p }}


<!--        <div class="form-group col-md-12">-->
<!--            <label> name</label>-->
<!--            <input type="text" class="form-control" name="name" placeholder="" />-->
<!--        </div>-->
<!--        <div class="form-group col-md-12">-->
<!--            <label>price</label>-->
<!--            <input type="text" class="form-control" name="price" placeholder="" />-->
<!--        </div>-->
<!--        <div class="form-group col-md-12">-->
<!--               <label>Image</label>-->
<!--               <input type="file" class="form-control image-upload" name="main_image" />-->
<!--        </div>-->
<!--        <div class="form-group col-md-12">-->
<!--                        <label>Category</label>-->
<!--                        <select class="custom-select" name="category">-->
<!--                            <option selected>Open this select menu</option>-->
<!--                            {% for sub in allsubcategory %}-->
<!--                            <option value="{{sub.id}}">{{ sub.subcategoryname }}</option>-->
<!--                            {% endfor %}-->
<!--                        </select>-->
<!--        </div>-->
<!--        <div class="form-group col-md-12">-->
<!--                        <label>Attribute</label>-->
<!--                        <select class="custom-select" name="attribute" id="id_attribute">-->
<!--                            <option selected>Open this select menu</option>-->
<!--                           {% for attr in allattribute %}-->
<!--                            <option value="{{attr.id}}">{{ attr.atributesname }}</option>-->
<!--                            {% endfor %}-->
<!--                        </select>-->
<!--        </div>-->
<!--        <div class="form-group col-md-12">-->
<!--                        <label>Configure</label>-->
<!--                        <select class="custom-select" name="configure" id="id_configure">-->
<!--                            <option selected>Open this select menu</option>-->
<!--                            {% for conf in allconfigure %}-->
<!--                            <option value="{{conf.id}}">{{ conf.configuresname }}</option>-->
<!--                            {% endfor %}-->
<!--                        </select>-->
<!--        </div>-->


    <button type="submit">Save</button>
  </form>




<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>



            </div>
        </div>
    </div>
</div>



  <script>
    $("#id_attribute").change(function () {
<!--    console.log("hhhhhhhhhhhhhhh");-->
      var url = $("#personForm").attr("data-cities-url");
      var attributeId = $(this).val();
<!--      console.log(configureId);-->

      $.ajax({
        url: url,
        data: {
          attribute : attributeId
        },
        success: function (data) {
          $("#id_configure").html(data);
<!--          alert("ggggggggggggggggg");-->
        }
      });
    });

  </script>


    {% endblock %}
